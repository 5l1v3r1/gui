<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" type="text/css" href="week.css">
    <script type="text/montage-serialization">
    {
        "owner": {
            "properties": {
                "element": {"#": "owner"},
                "days":
                    ["Sun 12/10", "Mon 12/11", "Tues 12/12", "Wed 12/13", "Thurs 12/14", "Fri 12/15", "Sat 12/16"],
                "hours":
                    ["00:00", "01:00", "02:00", "03:00", "04:00", "05:00", "06:00", "07:00", "08:00", "09:00", "10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"],
                "events": [
                    {
                        "id": "event1",
                        "type": "rsync",
                        "hours": "2",
                        "minutes": "30",
                        "concurrentEvents": 1,
                        "allDay": false
                    },
                    {
                        "id": "event2",
                        "type": "snapshot",
                        "hours": "2",
                        "minutes": "30",
                        "concurrentEvents": 1,
                        "allDay": false
                    },
                    {
                        "id": "event3",
                        "type": "volume_scrub",
                        "hours": "2",
                        "minutes": "30",
                        "concurrentEvents": 1,
                        "allDay": false
                    },
                    {
                        "id": "event4",
                        "type": "volume_scrub",
                        "allDay": true
                    },
                    {
                        "id": "event5",
                        "type": "snapshot",
                        "allDay": true
                    }
                ]

            }
        },
        "days": {
            "prototype": "montage/ui/repetition.reel",
            "properties": {
                "element": {"#": "days"}
            },
            "bindings": {
                "content": {"<-": "@owner.days"}
            }
        },
        "dayColumns": {
            "prototype": "montage/ui/repetition.reel",
            "properties": {
                "element": {"#": "dayColumns"}
            },
            "bindings": {
                "content": {"<-": "@owner.days"}
            }
        },
        "day": {
            "prototype": "montage/ui/text.reel",
            "properties": {
                "element": {"#": "day"}
            },
            "bindings": {
                "value": {"<-": "@days:iteration.object"}
            }
        },
        "hours": {
            "prototype": "montage/ui/repetition.reel",
            "properties": {
                "element": {"#": "hours"}
            },
            "bindings": {
                "content": {"<-": "@owner.hours"}
            }
        },
        "hour": {
            "prototype": "montage/ui/text.reel",
            "properties": {
                "element": {"#": "hour"}
            },
            "bindings": {
                "value": {"<-": "@hours:iteration.object"}
            }
        },
        "dayEvents": {
            "prototype": "montage/ui/repetition.reel",
            "properties": {
                "element": {"#": "dayEvents"}
            },
            "bindings": {
                "content": {"<-": "@owner.events.filter{!allDay}"}
            }
        },
        "event": {
           "prototype": "./event.reel",
           "properties": {
               "element": {"#": "event"}
           },
           "bindings": {
               "object": {"<-": "@dayEvents:iteration.object"}
           }
       },
       "recurringEvents": {
            "prototype": "montage/ui/repetition.reel",
            "properties": {
                "element": {"#": "recurringEvents"}
            },
            "bindings": {
                "content": {"<-": "@owner.events.filter{allDay}"}
            }
        },
        "recurringEvent": {
           "prototype": "./event.reel",
           "properties": {
               "element": {"#": "recurringEvent"}
           },
           "bindings": {
               "object": {"<-": "@recurringEvents:iteration.object"}
           }
       }
    }

    </script>
</head>
<body>
    <div data-montage-id="owner" class="Week">

        <header class="Week-header">
            <div class="Week-column--axis"></div>
            <div data-montage-id="days" class="Week-days">
                <div class="Week-day">
                    <div data-montage-id="day" class="Week-day-title"></div>
                    <div data-montage-id="recurringEvents" class="Week-day-events">
                        <div data-montage-id="recurringEvent"></div>
                    </div>
                </div>
            </div>
        </header>

        <main class="Week-main">

            <div class="Week-content">
                <div data-montage-id="hours" class="Week-column--axis Week-hours">
                    <div data-montage-id="hour" class="Week-hour"></div>
                </div>

                <div data-montage-id="dayColumns" class="Week-dayColumns">
                    <div class="Week-dayColumn">
                        <div data-montage-id="dayEvents" class="Week-events">
                            <div data-montage-id="event"></div>
                        </div>
                    </div>
                </div>
            </div>

        </main>

    </div>
</body>
</html>
